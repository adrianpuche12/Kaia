# Ejemplos de Uso y Testing - Kaia

## ğŸ¤ Ejemplos de Comandos de Voz

### Comandos para Crear Eventos

#### **âœ… Comandos Completos (con fecha, hora y tipo)**

| Comando de Voz | Intent | Entidades Detectadas | Respuesta Esperada |
|----------------|--------|---------------------|-------------------|
| "Tengo cita con el dentista maÃ±ana a las 3 PM" | create_event | title: "Cita con dentista"<br>date: "2024-12-30"<br>time: "15:00" | "Â¡Perfecto! He agendado tu Cita con dentista para maÃ±ana a las 15:00. Â¿Todo correcto?" |
| "Agendar reuniÃ³n de trabajo para el viernes a las 10 AM" | create_event | title: "ReuniÃ³n de trabajo"<br>date: "2024-01-03"<br>time: "10:00" | "Listo, he programado tu ReuniÃ³n de trabajo el viernes 3 de enero a las 10:00. Â¿Es asÃ­ como lo querÃ­as?" |
| "Programar cena con mamÃ¡ hoy a las 8 de la noche" | create_event | title: "Cena"<br>date: "2024-12-29"<br>time: "20:00" | "Â¡Excelente! Tu Cena estÃ¡ agendado para hoy a las 20:00. Â¿Confirmas?" |

#### **ğŸŸ¡ Comandos Parciales (requieren informaciÃ³n adicional)**

| Comando de Voz | InformaciÃ³n Faltante | Respuesta del Sistema |
|----------------|---------------------|----------------------|
| "Tengo cita con el doctor maÃ±ana" | Hora | "Entiendo que quieres agendar tu Cita mÃ©dica para maÃ±ana. Â¿A quÃ© hora serÃ­a?" |
| "Agendar reuniÃ³n de trabajo" | Fecha y hora | "Â¡Por supuesto! Vamos a programar tu ReuniÃ³n de trabajo. Â¿CuÃ¡ndo te viene bien?" |
| "Cita mÃ©dica el lunes" | Hora | "Claro, vamos a agendar tu Cita mÃ©dica para el lunes. Â¿QuÃ© hora te conviene?" |

### Comandos para Consultar Agenda

| Comando de Voz | Respuesta Actual |
|----------------|------------------|
| "Â¿QuÃ© tengo programado hoy?" | "DÃ©jame revisar tu agenda... Por ahora no tienes eventos programados. Â¿Te gustarÃ­a crear uno?" |
| "Mi agenda para maÃ±ana" | "Veo que tu agenda estÃ¡ libre en este momento. Â¿Quieres que agendemos algo?" |
| "Â¿QuÃ© eventos tengo esta semana?" | "Tu agenda estÃ¡ disponible. Â¿Hay algo que quisieras programar?" |

### Comandos de Saludo

| Comando de Voz | Respuestas Variadas |
|----------------|-------------------|
| "Hola" | "Â¡Hola! Â¿En quÃ© puedo ayudarte con tu agenda hoy?" |
| "Buenos dÃ­as" | "Â¡Hola! Soy Kaia, tu asistente de agenda. Â¿QuÃ© necesitas organizar?" |
| "Hola Kaia" | "Â¡Hola! Â¿CÃ³mo puedo ayudarte a organizar tu tiempo hoy?" |

## ğŸ§ª Plan de Testing Manual

### Testing de Reconocimiento de Voz

#### **Casos de Prueba BÃ¡sicos**

1. **Test de Permisos de MicrÃ³fono**
   - Abrir la app por primera vez
   - Presionar botÃ³n de voz
   - âœ… Verificar: Aparece solicitud de permisos
   - âœ… Verificar: Funciona despuÃ©s de aceptar permisos

2. **Test de Reconocimiento BÃ¡sico**
   - Decir: "Hola"
   - âœ… Verificar: Se detecta la voz
   - âœ… Verificar: Aparece transcripciÃ³n correcta
   - âœ… Verificar: Kaia responde apropiadamente

3. **Test de Manejo de Errores**
   - Presionar botÃ³n sin hablar (esperar 5 segundos)
   - âœ… Verificar: Aparece mensaje "No se detectÃ³ voz"
   - Denegar permisos de micrÃ³fono
   - âœ… Verificar: Aparece mensaje de permisos denegados

#### **Casos de Prueba Avanzados**

4. **Test de Comandos Complejos**
   ```
   Comando: "Tengo cita con el dentista maÃ±ana a las 3 PM"
   âœ… Verificar: Intent = create_event
   âœ… Verificar: title = "Cita con dentista"
   âœ… Verificar: fecha = maÃ±ana
   âœ… Verificar: hora = 15:00
   ```

5. **Test de Variaciones de Fecha**
   ```
   - "maÃ±ana" â†’ fecha siguiente
   - "hoy" â†’ fecha actual
   - "pasado maÃ±ana" â†’ fecha + 2 dÃ­as
   - "15/03" â†’ 15 de marzo del aÃ±o actual
   - "viernes" â†’ prÃ³ximo viernes
   ```

6. **Test de Variaciones de Hora**
   ```
   - "3 PM" â†’ 15:00
   - "3 de la tarde" â†’ 15:00
   - "15:30" â†’ 15:30
   - "10 AM" â†’ 10:00
   - "8 de la noche" â†’ 20:00
   ```

### Testing de SÃ­ntesis de Voz

#### **Casos de Prueba de Calidad de Voz**

1. **Test de SelecciÃ³n de Voz**
   - Abrir consola del navegador
   - Buscar logs: "ğŸ”Š Selected voice:"
   - âœ… Verificar: Se selecciona voz espaÃ±ola
   - âœ… Verificar: Prioriza voces femeninas

2. **Test de Naturalidad**
   - Crear evento completo
   - Escuchar respuesta de Kaia
   - âœ… Verificar: Pausas naturales en puntos y comas
   - âœ… Verificar: Velocidad apropiada (no muy rÃ¡pida)
   - âœ… Verificar: PronunciaciÃ³n correcta de nÃºmeros

3. **Test de Control de Voz**
   - Desactivar voz con el toggle "ğŸ”‡ Voz OFF"
   - Crear un evento
   - âœ… Verificar: No hay sÃ­ntesis de voz
   - âœ… Verificar: Solo aparece texto escrito

#### **Casos de Prueba de Contenido**

4. **Test de Respuestas Variadas**
   - Crear 3 eventos similares consecutivos
   - âœ… Verificar: Respuestas diferentes cada vez
   - âœ… Verificar: Mantiene contexto apropiado

5. **Test de Procesamiento de Texto**
   - Crear evento: "Cita mÃ©dica el 15/03 a las 3 PM"
   - âœ… Verificar: Dice "15 de marzo" en lugar de "15 barra 03"
   - âœ… Verificar: Dice "tres" en lugar de "3"

### Testing de NLP

#### **Casos de Prueba de Intenciones**

1. **Test de DetecciÃ³n de create_event**
   ```
   Comandos a probar:
   - "Tengo cita con el doctor"
   - "Agendar reuniÃ³n"
   - "Programar evento"
   - "Turno con el dentista"

   âœ… Verificar: Todos detectan intent = create_event
   ```

2. **Test de DetecciÃ³n de query_agenda**
   ```
   Comandos a probar:
   - "Â¿QuÃ© tengo hoy?"
   - "Mi agenda"
   - "Mis eventos"
   - "Â¿QuÃ© tengo programado?"

   âœ… Verificar: Todos detectan intent = query_agenda
   ```

3. **Test de Confianza**
   ```
   Comando claro: "Cita dentista maÃ±ana 3 PM"
   âœ… Verificar: Confianza > 0.8

   Comando vago: "Algo para maÃ±ana"
   âœ… Verificar: Confianza < 0.6
   ```

#### **Casos de Prueba de ExtracciÃ³n de Entidades**

4. **Test de Fechas Relativas**
   ```bash
   # En consola del navegador, verificar:
   nlpService.parseInput("maÃ±ana").entities.date
   # Debe retornar fecha de maÃ±ana en formato YYYY-MM-DD
   ```

5. **Test de Tipos de Evento**
   ```
   - "dentista" â†’ "Cita con dentista"
   - "doctor" â†’ "Cita mÃ©dica"
   - "trabajo" â†’ "ReuniÃ³n de trabajo"
   - "universidad" â†’ "Clase/Universidad"
   ```

## ğŸŒ Testing Cross-Platform

### Testing en Navegadores

#### **Chrome/Edge (Recomendado)**
- âœ… Reconocimiento: Excelente
- âœ… SÃ­ntesis: Voces premium disponibles
- âœ… Permisos: GestiÃ³n clara
- âœ… Performance: Ã“ptimo

#### **Firefox**
- ğŸŸ¡ Reconocimiento: Limitado
- âœ… SÃ­ntesis: BÃ¡sica pero funcional
- ğŸŸ¡ Permisos: Menos intuitivo
- ğŸŸ¡ Performance: Aceptable

#### **Safari**
- âŒ Reconocimiento: No soportado
- ğŸŸ¡ SÃ­ntesis: Solo voces bÃ¡sicas
- âŒ Funcionalidad: Muy limitada

### Testing MÃ³vil (Futuro)

#### **iOS (Expo Go)**
```bash
# Para probar cuando estÃ© disponible:
cd mobile
npm start
# Escanear QR con Expo Go
```

#### **Android (Expo Go)**
```bash
# Similar a iOS
cd mobile
npm start
# Escanear QR con Expo Go
```

## ğŸ”§ Herramientas de Testing

### Console Commands para Testing

#### **Testing Manual de NLP**
```javascript
// En consola del navegador:

// Test bÃ¡sico de parsing
const result = nlpService.parseInput("cita dentista maÃ±ana 3 PM");
console.log(result);

// Test de variaciones de fecha
const dates = ["maÃ±ana", "hoy", "15/03"];
dates.forEach(date => {
  console.log(date, nlpService.parseInput(date).entities.date);
});

// Test de confianza
const confidence = nlpService.parseInput("agendar algo").confidence;
console.log("Confianza:", confidence);
```

#### **Testing Manual de Voz**
```javascript
// En consola del navegador:

// Ver voces disponibles
const voices = webVoiceService.getAvailableVoices();
console.log("Voces espaÃ±olas:", voices);

// Test directo de sÃ­ntesis
webVoiceService.speak("Hola, soy Kaia, tu asistente de agenda");

// Verificar estado de escucha
console.log("Escuchando:", unifiedVoiceService.getIsListening());
```

### MÃ©tricas de Performance

#### **Monitoring en Tiempo Real**
```javascript
// Agregar a la consola para monitorear performance:
const startTime = performance.now();

// DespuÃ©s de operaciÃ³n de voz/NLP:
const endTime = performance.now();
console.log(`OperaciÃ³n tomÃ³ ${endTime - startTime} ms`);
```

#### **Memory Usage**
```javascript
// En Chrome DevTools > Memory tab
// Verificar que no hay memory leaks despuÃ©s de:
// - 10 comandos de voz consecutivos
// - 10 sÃ­ntesis de voz consecutivas
// - Cambios entre pantallas
```

## ğŸ› Debugging Checklist

### Problemas Comunes y Soluciones

#### **"El botÃ³n de voz no funciona"**
1. âœ… Verificar permisos de micrÃ³fono
2. âœ… Confirmar navegador compatible (Chrome/Edge)
3. âœ… Revisar consola para errores
4. âœ… Verificar conexiÃ³n a internet

#### **"Kaia no entiende mis comandos"**
1. âœ… Hablar claramente y despacio
2. âœ… Usar palabras clave: "agendar", "cita", "turno"
3. âœ… Incluir fecha y hora especÃ­ficas
4. âœ… Verificar logs de NLP en consola

#### **"La voz suena robÃ³tica"**
1. âœ… Verificar navegador (Chrome tiene mejores voces)
2. âœ… Comprobar que se selecciona voz premium
3. âœ… Revisar logs: "ğŸ”Š Selected voice"

### Logs de Debug

#### **Formato de Logs Esperados**
```
ğŸ¤ Web Speech: Started listening
ğŸ¤ Web Speech: Result: "tengo cita con el dentista maÃ±ana"
ğŸ§  Processing: tengo cita con el dentista maÃ±ana
ğŸ§  Parsed result: {intent: "create_event", entities: {...}, confidence: 0.85}
ğŸ”Š Selected voice: Microsoft Maria - Spanish (Spain)
ğŸ”Š Kaia speaking: Â¡Perfecto! He agendado tu Cita con dentista...
ğŸ”Š Kaia finished speaking
```

---
*GuÃ­a de testing actualizada: 2024-12-29*